{"version":3,"sources":["main.min.js"],"names":["$body","$","selector","bsCustomFileInput","$parent","autosize","initHtmlTextarea","initFormDefaults","onUploadCompleted","updateHtmlContent","formValidation","afterSubmit","$data","checkRedirect","onModalOpen","beforeModalOpen","columns","onInit","onStateLoaded","$modal","customizeCSV","data","onDraw","onDownloadStarted"],"mappings":"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","file":"main.min.js","sourcesContent":["/* global\nautosize\nbsCustomFileInput\ncheckRedirect\ninitHtmlTextarea\nupdateHtmlContent\n*/\n\n\n// #############################################################################\n// GLOBAL VARS\n\nconst $body = $(\"body\");\n\n\n// #############################################################################\n// FOCUS\n\n$body.betterFocus({\n  selector: \"a, [tabindex]\",\n});\n\n\n// #############################################################################\n// TOOLTIP\n\n$(\"[data-toggle=tooltip]\").tooltip();\n\n\n// #############################################################################\n// FORM\n\nfunction initFormDefaults ($parent = $body) {\n  // File\n  // TODO: Selber schreiben!\n  bsCustomFileInput.init();\n\n  // Autosize\n  // TODO: Selber schreiben!\n  autosize($(\"textarea\", $parent));\n\n  // HTML TinyMCE\n  initHtmlTextarea($parent);\n\n  // Range\n  $(\"[type=range]\", $parent).formRange();\n\n  // Ajax upload\n  $(\"[data-ajax-upload]\", $parent).ajaxUpload({\n    onUploadCompleted: function ($upload, $data) {\n      updateHtmlContent($data);\n    },\n  });\n\n  // Wizard\n  $(\"[data-form=\\\"wizard\\\"]\", $parent).formWizard();\n\n  // File tree\n  $(\"[data-file-tree]\", $parent).formFileTree();\n\n  // Form set\n\n  $(\"[data-form-set]\", $parent).formSet();\n}\n\ninitFormDefaults();\n\n// Validation\n\n$(\"[data-form]\").formValidation({\n  afterSubmit: function (request, $form, $data) {\n    if ($data.submit === \"success\") {\n      checkRedirect($data);\n      updateHtmlContent($data);\n\n      if ($data.toaster) {\n        $body.toaster(\"updateToaster\", $data.toaster);\n      }\n    }\n  },\n});\n\n// Wizard\n\n$(\"[data-form-wizard]\").formWizard();\n\n\n// #############################################################################\n// AJAX MODAL\n\n$body.ajaxModal({\n  selector: \"[data-modal-link]\",\n  beforeModalOpen: function ($modal, $data) {\n    if ($data.submit === \"error\") {\n      if ($data.toaster) {\n        $body.toaster(\"updateToaster\", $data.toaster);\n      }\n    }\n  },\n  onModalOpen: function ($modal) {\n    $(\"[autofocus]\", $modal).focus();\n    $(\"[data-toggle=tooltip]\", $modal).tooltip();\n\n    initFormDefaults($modal);\n\n    // Validation\n\n    $(\"[data-form]\", $modal).formValidation({\n      afterSubmit: function (request, $form, $data) {\n        if ($data.submit === \"success\") {\n          $modal.modal(\"hide\");\n\n          checkRedirect($data);\n          updateHtmlContent($data);\n\n          if ($data.toaster) {\n            $body.toaster(\"updateToaster\", $data.toaster);\n          }\n\n          $(\"[data-table]\").xDataTable(\"reload\");\n        }\n      },\n    });\n\n    // Wizard\n\n    $(\"[data-form-wizard]\", $modal).formWizard();\n  },\n});\n\n\n// #############################################################################\n// DATA TABLE\n\n$(\"[data-table]\").xDataTable({\n  options: {\n    columns: [\n      {\n        data: \"PLACEHOLDER_FIELDS\",\n      },\n    ],\n  },\n  onInit: function ($table, $json) {\n    // Custom code on init\n  },\n  onStateLoaded: function ($table, $data) {\n    // Custom code on init\n  },\n  onDraw: function ($table) {\n    // Custom code on redraw\n\n    $(\"[data-toggle=tooltip]\", $table).tooltip();\n  },\n  customizeCSV: function (csv) {\n    // For customization read https://datatables.net/reference/button/csv\n\n    return csv;\n  },\n});\n\n\n// #############################################################################\n// DOWNLOAD BLOB\n\n$(\"[data-download]\").downloadBlob({\n  onDownloadStarted: function ($data) {\n    $body.toaster(\"updateToaster\", $data.toaster);\n  },\n});\n\n\n// #############################################################################\n// CLIPBOARD\n\n$body.clipBoard({\n  selector: \"[data-clipboard]\",\n});\n\n\n// #############################################################################\n// TOASTER\n\n$body.toaster({\n  selector: \"[data-toaster]\",\n});\n\n\n// #############################################################################\n// AUTO UPDATE HTML CONTENT\n\n$body.autoUpdateHtmlContent({\n  selector: \"[data-update-html-content]\",\n});\n"]}